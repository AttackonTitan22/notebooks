---

​	**老师好，我叫周年，学号2022212438.我负责的是系统中入住与退房两个功能的实现**

**首先，这两个部分是在管理员的权限之下执行的操作，管理员首先对符合入住要求的订单进行查询，然后登记入住。在退房时先对使用房间进行查询，再进行退房操作与收费计算。**

---



​		**对于这两部分功能的数据存储，采用了mysql，在数据库层面分别设置了*order*，*orderbill*以及*bills*三张表。首先order表中存放的为用户发起的订单，其中有一个字段是status，代表订单的支付状态，如果订单已支付，这条记录将会被写到orderbill表中，orderbill为“正在进行的订单”。在进入入住模块的查询订单时，在orderbill表中查询还没来入住的记录，并在登记入住后记录入住时间，在退房模块，首先查询的是orderbill表中入住时间不为null或空的记录，再进行退房操作，然后在bills表中添加一条这个订单的完整信息并记录退房时间，退房以后这个订单就不是正在进行的订单，所以再删除掉orderbill中的记录。bills表为已经退房完成的总的台账**

---

​		**入住功能的实现，首先查询符合入住要求订单，由前端向后端发送post请求，在后端ManageDataController里面由getOrderBillByid（）来接受请求，从orderbill表中查询信息发送到前台，在进行入住操作时，也是发送执行入住的请求，通过comeIn函数对数据库字段进行更新**

---

**退房功能的实现也是一样的前端发送请求后端controller相应接口进行对接，时间原因不以赘述**

---

**最后时一个细节的处理，对于每一个不同的订单，考虑到顾客退房的自由性，需要根据使用情况进行相应的退费或补钱。**